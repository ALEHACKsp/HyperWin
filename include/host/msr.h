#ifndef __MSR_H_
#define __MSR_H_

#define MSR_IA32_P5_MC_ADDR			        0
#define MSR_IA32_P5_MC_TYPE		           	1
#define MSR_IA32_PLATFORM_ID			    0x17
#define MSR_IA32_EBL_CR_POWERON			    0x2a

#define MSR_IA32_APIC_BASE			        0x1b
#define MSR_IA32_APIC_BASE_BSP		        (1<<8)
#define MSR_IA32_APIC_BASE_EXTENDED		    (1<<10)
#define MSR_IA32_APIC_BASE_ENABLE		    (1<<11)
#define MSR_IA32_APIC_BASE_BASE		        (0xfffff<<12)

#define MSR_CORE_THREAD_COUNT			    0x35

#define MSR_IA32_FEATURE_CONTROL		    0x3a
#define MSR_IA32_FEATCTL_LOCK		        (1<<0)
#define MSR_IA32_FEATCTL_VMXON_SMX		    (1<<1)
#define MSR_IA32_FEATCTL_VMXON		        (1<<2)
#define MSR_IA32_FEATCTL_CSTATE_SMI		    (1<<16)

#define MSR_IA32_UPDT_TRIG			        0x79
#define MSR_IA32_BIOS_SIGN_ID			    0x8b
#define MSR_IA32_UCODE_WRITE			    MSR_IA32_UPDT_TRIG
#define MSR_IA32_UCODE_REV			        MSR_IA32_BIOS_SIGN_ID

#define MSR_IA32_PERFCTR0			        0xc1
#define MSR_IA32_PERFCTR1			        0xc2

#define MSR_PLATFORM_INFO			        0xce

#define MSR_PMG_CST_CONFIG_CONTROL		    0xe2

#define MSR_IA32_BBL_CR_CTL			        0x119

#define MSR_IA32_SYSENTER_CS			    0x174
#define MSR_IA32_SYSENTER_ESP		    	0x175
#define MSR_IA32_SYSENTER_EIP			    0x176

#define MSR_IA32_MCG_CAP		        	0x179
#define MSR_IA32_MCG_STATUS			        0x17a
#define MSR_IA32_MCG_CTL			        0x17b

#define MSR_IA32_EVNTSEL0		        	0x186
#define MSR_IA32_EVNTSEL1			        0x187

#define MSR_FLEX_RATIO				        0x194
#define MSR_IA32_PERF_STS			        0x198
#define MSR_IA32_PERF_CTL			        0x199
#define MSR_IA32_CLOCK_MODULATION		    0x19a

#define MSR_IA32_MISC_ENABLE			    0x1a0

#define MSR_IA32_ENERGY_PERFORMANCE_BIAS	0x1b0
#define MSR_IA32_PACKAGE_THERM_STATUS		0x1b1
#define MSR_IA32_PACKAGE_THERM_INTERRUPT	0x1b2

#define MSR_IA32_DEBUGCTLMSR			0x1d9
#define MSR_IA32_LASTBRANCHFROMIP		0x1db
#define MSR_IA32_LASTBRANCHTOIP			0x1dc
#define MSR_IA32_LASTINTFROMIP			0x1dd
#define MSR_IA32_LASTINTTOIP			0x1de

#define MSR_IA32_CR_PAT 			    0x277	

#define MSR_IA32_MTRRCAP		    	0xfe
#define MSR_IA32_MTRR_DEF_TYPE			0x2ff
#define MSR_IA32_MTRR_PHYSBASE(n)		(0x200 + 2*(n))
#define MSR_IA32_MTRR_PHYSMASK(n)		(0x200 + 2*(n) + 1)
#define MSR_IA32_MTRR_FIX64K_00000		0x250
#define MSR_IA32_MTRR_FIX16K_80000		0x258
#define MSR_IA32_MTRR_FIX16K_A0000		0x259
#define MSR_IA32_MTRR_FIX4K_C0000		0x268
#define MSR_IA32_MTRR_FIX4K_C8000		0x269
#define MSR_IA32_MTRR_FIX4K_D0000		0x26a
#define MSR_IA32_MTRR_FIX4K_D8000		0x26b
#define MSR_IA32_MTRR_FIX4K_E0000		0x26c
#define MSR_IA32_MTRR_FIX4K_E8000		0x26d
#define MSR_IA32_MTRR_FIX4K_F0000		0x26e
#define MSR_IA32_MTRR_FIX4K_F8000		0x26f

#define MSR_IA32_MC0_CTL			    0x400
#define MSR_IA32_MC0_STATUS			    0x401
#define MSR_IA32_MC0_ADDR			    0x402
#define MSR_IA32_MC0_MISC			    0x403

#define MSR_IA32_VMX_BASE			    0x480
#define MSR_IA32_VMX_BASIC			    MSR_IA32_VMX_BASE
#define MSR_IA32_VMXPINBASED_CTLS		MSR_IA32_VMX_BASE+1
#define MSR_IA32_PROCBASED_CTLS			MSR_IA32_VMX_BASE+2
#define MSR_IA32_VMX_EXIT_CTLS			MSR_IA32_VMX_BASE+3
#define MSR_IA32_VMX_ENTRY_CTLS			MSR_IA32_VMX_BASE+4
#define MSR_IA32_VMX_MISC			    MSR_IA32_VMX_BASE+5
#define MSR_IA32_VMX_CR0_FIXED0			MSR_IA32_VMX_BASE+6
#define MSR_IA32_VMX_CR0_FIXED1			MSR_IA32_VMX_BASE+7
#define MSR_IA32_VMX_CR4_FIXED0			MSR_IA32_VMX_BASE+8
#define MSR_IA32_VMX_CR4_FIXED1			MSR_IA32_VMX_BASE+9

#define MSR_IA32_DS_AREA			            0x600

#define MSR_IA32_PACKAGE_POWER_SKU_UNIT		    0x606
#define MSR_IA32_PACKAGE_ENERY_STATUS		    0x611
#define MSR_IA32_PRIMARY_PLANE_ENERY_STATUS	    0x639
#define MSR_IA32_SECONDARY_PLANE_ENERY_STATUS	0x641
#define MSR_IA32_TSC_DEADLINE			        0x6e0

#define	    MSR_IA32_EFER				    0xC0000080
#define	    MSR_IA32_EFER_SCE			    0x00000001
#define	    MSR_IA32_EFER_LME			    0x00000100
#define	    MSR_IA32_EFER_LMA			    0x00000400
#define     MSR_IA32_EFER_NXE			    0x00000800

#define	MSR_IA32_STAR				        0xC0000081
#define	MSR_IA32_LSTAR				        0xC0000082
#define	MSR_IA32_CSTAR				        0xC0000083
#define	MSR_IA32_FMASK				        0xC0000084

#define MSR_IA32_FS_BASE			        0xC0000100
#define MSR_IA32_GS_BASE			        0xC0000101
#define MSR_IA32_KERNEL_GS_BASE			    0xC0000102
#define MSR_IA32_TSC_AUX	                0xC0000103
 
// credit: http://newosxbook.com/src.jl?tree=&file=/xnu-1504.15.3/osfmk/i386/proc_reg.h

#endif